## Cascading in Quart
**Quart** utilizes a simple and async cascading model for both handles and middleware. All routes have an ordered list of handles that will be called during the lifecycle of the stream while middleware run before/preflight or after/postflight (refer to Middleware section for more information) the handles.

```
- [Preflight]
- [Handles]
- [Postflight]
```

Let's assume we have the following handles set:
```javascript
app.preflight(async () => console.log("Request"));
app.handle('/home', async () => "Hello World");
```

The cascading structure will favor preflight middleware followed by our handle, assuming a call to `/home` we will get the following:

```javascript
- [Preflight] -> "Request"
- [Handle] <- "Hello World"
```

We can then add a postflight handle

```javascript
app.postflight(async () => console.log(Date.now()));
```

Adding the postflight handle would result in:
```javascript
- [Preflight] -> "Request"
- [Handle] <- "Hello World"
- [Postflight] -> Time
```

Let's add two more handles on top:
```javascript
app.handle('/home', async (stream) => {
  await Logger.log(stream.query);
});
app.handle('/home', async () => console.log("Request complete"));
```

which would result in:

```javascript
- [Preflight] -> "Request"
- [Handle] <- "Hello World"
- [Handle] -> Logs Query
- [Handle] -> "Request Complete"
- [Postflight] -> Time
```